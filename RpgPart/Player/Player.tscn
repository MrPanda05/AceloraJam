[gd_scene load_steps=10 format=3 uid="uid://c4uxo1k167gf5"]

[ext_resource type="Script" path="res://RpgPart/Player/PlayerRPG.cs" id="1_0qnfm"]
[ext_resource type="PackedScene" uid="uid://yqjfbe83sniv" path="res://Commons/Components/HitboxComponent.tscn" id="1_hpkqc"]
[ext_resource type="PackedScene" uid="uid://fixncwlpddtj" path="res://Commons/Components/SoundPool.tscn" id="2_4wwde"]
[ext_resource type="PackedScene" uid="uid://r4fhthgo4slo" path="res://Commons/Components/HealthComponent.tscn" id="2_ykiv1"]
[ext_resource type="PackedScene" uid="uid://p58i6ogpqa4a" path="res://Commons/FiniteStateMachine/Fsm.tscn" id="3_3rntb"]
[ext_resource type="Script" path="res://RpgPart/Player/States/PlayState.cs" id="5_v4g7r"]
[ext_resource type="PackedScene" uid="uid://qydj2a5iirr6" path="res://RpgPart/Player/Gun/Gun.tscn" id="6_jp2kp"]

[sub_resource type="CircleShape2D" id="CircleShape2D_xjy1d"]

[sub_resource type="CircleShape2D" id="CircleShape2D_b2cpw"]

[node name="Player" type="CharacterBody2D" node_paths=PackedStringArray("hitbox", "health", "playerFSM") groups=["Player"]]
collision_mask = 2310
script = ExtResource("1_0qnfm")
hitbox = NodePath("HitboxComponent")
health = NodePath("HealthComponent")
playerFSM = NodePath("FSM")

[node name="HealthComponent" parent="." instance=ExtResource("2_ykiv1")]
health = 100.0
maxHealth = 100.0
beDisable = true

[node name="HitboxComponent" parent="." node_paths=PackedStringArray("healthComponent") instance=ExtResource("1_hpkqc")]
collision_layer = 1
healthComponent = NodePath("../HealthComponent")

[node name="CollisionShape2D" type="CollisionShape2D" parent="HitboxComponent"]
shape = SubResource("CircleShape2D_xjy1d")

[node name="SoundPool" parent="." instance=ExtResource("2_4wwde")]

[node name="FSM" parent="." instance=ExtResource("3_3rntb")]
InitialState = NodePath("PlayState")

[node name="PlayState" type="Node" parent="FSM"]
script = ExtResource("5_v4g7r")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("CircleShape2D_b2cpw")

[node name="Gun" parent="." groups=["Gun"] instance=ExtResource("6_jp2kp")]
position = Vector2(116, -3)
radius = 100.0
